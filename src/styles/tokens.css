/* =========================
  Theme tokens
========================= */
:root {
  /* colors */
  --fg: #1b1f23;
  --muted: #6b7280;
  --line: #d8dbe0;
  --bg: #f7f8fa;
  --accent: #ffb400;
  --root: #ff6a00;
  --fret: #c9cdd3;
  --fret-micro: color-mix(in oklab, var(--fret) 85%, var(--fg) 15%);
  --fret-w: 1.6px;
  --fret-w-strong: 2px;
  --fret-w-micro: 1.3px;
  --board: #f2f3f6;
  --panel: #ffffff;
  --degree-boost: 12%;

  --nut: #fffbe6;
  --note: var(--accent);
  --note-micro: #6fa8dc;

  /* layout rhythm */
  --gap: 12px;
  --gutter: clamp(12px, 3vw, 24px);
  --max-stage: clamp(1100px, 96vw, 1400px);
  --card-radius: 12px;
  --space-xs: 6px;
  --space-sm: 10px;
  --icon-size: 1rem;

  /* shared card sizing */
  --card-h-sm: clamp(120px, 28vh, 160px);
  --card-h-md: clamp(220px, 34vh, 300px);
  --card-h-lg: clamp(280px, 42vh, 380px);

  /* masonry */
  --card-gap: clamp(8px, 1.6vw, 12px);
  --col-width: clamp(260px, 24vw, 360px);

  /* motion */
  --ease: cubic-bezier(0.22, 0.61, 0.36, 1);
  --speed: 220ms;

  --card-bg: color-mix(in oklab, var(--panel) 95%, var(--fg) 5%);
  --card-border: color-mix(in oklab, var(--line) 92%, var(--fg) 8%);
  --card-shadow: 0 1px 1px rgba(0, 0, 0, 0.04), 0 2px 6px rgba(0, 0, 0, 0.04);
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --fg: #e5e7eb;
  --muted: #9ca3af;
  --line: #3a3f46;
  --bg: #101214;
  --panel: #15171a;
  --board: #1a1d21;
  --fret: #5b626a;
  --fret-micro: #7c8a97;
  --accent: #ffc24b;
  --root: #ff7a3d;

  --nut: #dcdcdc;
  --note: var(--accent);
  --note-micro: #89c2ff;

  --card-bg: color-mix(in oklab, var(--panel) 94%, var(--fg) 6%);
  --card-border: color-mix(in oklab, var(--line) 86%, var(--fg) 14%);
  --card-shadow: 0 1px 1px rgba(0, 0, 0, 0.35), 0 2px 6px rgba(0, 0, 0, 0.28);
}

:root[data-theme="dark"] .tv-modal__editor {
  --jer-select-border: color-mix(in oklab, var(--line) 70%, transparent);
  --jer-select-focus: color-mix(in oklab, var(--accent) 55%, var(--fg) 45%);
  --jer-select-arrow: color-mix(in oklab, var(--fg) 85%, var(--accent) 15%);
  --jer-select-bg: color-mix(in oklab, var(--panel) 85%, var(--bg) 15%);
  --jer-form-border: 1px solid color-mix(in oklab, var(--line) 75%, transparent);
  --jer-form-border-focus: 1px solid
    color-mix(in oklab, var(--accent) 60%, var(--fg) 40%);
  --jer-icon-copy-color: color-mix(in oklab, var(--accent) 45%, var(--fg) 55%);
  --jer-highlight-color: color-mix(in oklab, var(--accent) 30%, transparent);
  --jer-input-color: var(--fg);
}

:root[data-theme="dark"] .tv-modal__editor .jer-drag-n-drop-padding {
  border-color: color-mix(in oklab, var(--accent) 50%, var(--line) 50%);
  background: color-mix(in oklab, var(--accent) 18%, transparent);
}

:root[data-theme="dark"] .tv-modal__editor .jer-drop-target-bottom {
  background: color-mix(in oklab, var(--accent) 20%, transparent);
}